!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="dist/",n(n.s=0)}([function(e,t){var n,r=document.body,o=document.querySelector("#timezone"),a=document.getElementById("fahrenheit"),c=document.getElementById("celsius"),u=document.querySelector(".weather-today--temperature"),i="995905e2fb21d6bf45a41cd5f589d28b",d=document.getElementById("today"),s=document.getElementById("form");function l(e){return((e-32)/1.8).toFixed(0)}function m(e,t){document.querySelector(".weather-lon__data").innerHTML=e.toFixed(2),document.querySelector(".weather-lat__data").innerHTML=t.toFixed(2)}function f(e){var t=new Date,n=t.getTime()+6e4*t.getTimezoneOffset(),r=new Date(n+36e5*e);return n=new Date(n),r.toLocaleString()}function p(){var e,t,o,a;return regeneratorRuntime.async((function(c){for(;;)switch(c.prev=c.next){case 0:return"8d720f0d7885b299d736582e9383e03be14a24fdb99e6054335a47b219b4dd9d",e="https://api.unsplash.com/photos/random?query=town,".concat(n,"&client_id=").concat("8d720f0d7885b299d736582e9383e03be14a24fdb99e6054335a47b219b4dd9d"),console.log(n),c.prev=3,c.next=6,regeneratorRuntime.awrap(fetch(e));case 6:return o=c.sent,c.next=9,regeneratorRuntime.awrap(o.json());case 9:t=c.sent,a=t.urls.regular,r.style.backgroundImage="url(".concat(a,")"),c.next=17;break;case 14:throw c.prev=14,c.t0=c.catch(3),new TypeError(c.t0);case 17:case"end":return c.stop()}}),null,null,[[3,14]])}function g(){var e,t,r,o,a;return regeneratorRuntime.async((function(c){for(;;)switch(c.prev=c.next){case 0:return e="https://api.openweathermap.org/data/2.5/forecast?q=".concat(n,"&units=metric&appid=").concat(i),c.next=3,regeneratorRuntime.awrap(fetch(e));case 3:return t=c.sent,c.next=6,regeneratorRuntime.awrap(t.json());case 6:r=c.sent,o=r.list,a=o.filter((function(e){if(-1!==e.dt_txt.indexOf("00:00:00"))return e})).map((function(e){return e.main.temp.toFixed(0)})),document.getElementById("tm").innerText="".concat(a[0],"°"),document.getElementById("dayAfterTm").innerText="".concat(a[1],"°"),document.getElementById("afterTheDayAfterTm").innerText="".concat(a[2],"°");case 12:case"end":return c.stop()}}))}function x(e,t,n){d.textContent=f(n),u.textContent=l(t),o.textContent=e,document.querySelector(".weather-today--degree").textContent="°C",a.addEventListener("click",(function(){u.textContent=t.toFixed(0),document.querySelector(".weather-today--degree").textContent="°F"})),c.addEventListener("click",(function(){u.textContent=l(t),document.querySelector(".weather-today--degree").textContent="°C"}))}function y(e,t,n,r){u.textContent=t.toFixed(0),o.textContent="".concat(e," / ").concat(n),document.querySelector(".weather-today--degree").textContent="°C",a.addEventListener("click",(function(){u.textContent=(1.8*t+32).toFixed(0),document.querySelector(".weather-today--degree").textContent="°F"})),c.addEventListener("click",(function(){u.textContent=t.toFixed(0),document.querySelector(".weather-today--degree").textContent="°C"})),d.textContent=f(r/3600)}document.getElementById("bgImg").addEventListener("click",p),function(){var e,t;if(!navigator.geolocation)throw new Error("You browser does not supported");navigator.geolocation.getCurrentPosition((function(r){var o,a,c,u,i,d;return regeneratorRuntime.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=r.coords.latitude,e=r.coords.longitude,"6db804c95b7372415c202d3538ec9d88","https://cors-anywhere.herokuapp.com/",o="".concat("https://cors-anywhere.herokuapp.com/","https://api.darksky.net/forecast/").concat("6db804c95b7372415c202d3538ec9d88","/").concat(t,",").concat(e),s.next=7,regeneratorRuntime.awrap(fetch(o));case 7:return a=s.sent,s.next=10,regeneratorRuntime.awrap(a.json());case 10:return c=s.sent,u=c.currently.temperature,i=c.timezone,d=c.offset,n=i.split("/")[1],console.log(n),x(i,u,d),m(e,t),s.next=19,regeneratorRuntime.awrap(g());case 19:p().then((function(e){return e}));case 20:case"end":return s.stop()}}))}))}(),s.addEventListener("submit",(function(e){return function(e){var t,r,o,a,c,u,d,s;return regeneratorRuntime.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e.preventDefault(),p(),t="https://api.openweathermap.org/data/2.5/weather?q=".concat(n,"&appid=").concat(i,"&units=metric"),l.next=5,regeneratorRuntime.awrap(fetch(t));case 5:return r=l.sent,l.next=8,regeneratorRuntime.awrap(r.json());case 8:o=l.sent,a=o.name,c=o.main,u=o.coord,d=o.timezone,s=o.sys,m(u.lon,u.lat),y(a,c.temp,s.country,d),p().then((function(e){return e}));case 13:case"end":return l.stop()}}))}(e)})),s.addEventListener("submit",(function(){return g()})),s.addEventListener("submit",(function(){return p()})),mapboxgl.accessToken="pk.eyJ1IjoiaW5uYXJla2VzaCIsImEiOiJjazQ1aHk1MTEwOHg4M2dxbzE5a3dqY3ZjIn0.8r5bwO9SWcGL4CYdwqsobA","geolocation"in navigator&&navigator.geolocation.getCurrentPosition((function(e){var t=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/light-v10",center:[e.coords.longitude,e.coords.latitude],zoom:9}),r=new MapboxGeocoder({accessToken:mapboxgl.accessToken,mapboxgl:mapboxgl});document.getElementById("geocoder").appendChild(r.onAdd(t)),r.on("result",(function(e){n=e.result.text}))}))}]);